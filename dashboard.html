<html>
<head>
<title>ten24dash!</title>
<style>
	.card-list {
	  margin-top: 15px;
	  width: 100%;
	}
	.card-list:before,
	.card-list:after {
	  content: " ";
	  display: table;
	}
	.card-list:after {
	  clear: both;
	}
	.card {
	  border: 5px solid #1b2431;
	  border-radius: 8px;
	  color: white;
	  float: left;
	  padding: 10px;
	  position: relative;
	  width: 22%;
	}
	.card .glyphicon {
	  color: white;
	  font-size: 28px;
	  opacity: 0.3;
	  position: absolute;
	  right: 13px;
	  top: 13px;
	}
	.card .stat {
	  border-top: 1px solid rgba(255, 255, 255, 0.3);
	  font-size: 8px;
	  margin-top: 25px;
	  padding: 10px 10px 0;
	  text-transform: uppercase;
	}
	.card .title {
	  display: inline-block;
	  font-size: 8px;
	  padding: 10px 10px 0;
	  text-transform: uppercase;
	}
	.card .value {
	  font-size: 26px;
	  font-weight: lighter;
	  padding: 0 10px;
	}
	.card.blue {
	  background-color: #2298F1;
	}
	.card.green {
	  background-color: #66B92E;
	}
	.card.orange {
	  background-color: #DA932C;
	}
	.card.red {
	  background-color: #D65B4A;
	}
	.projects {
	  background-color: #273142;
	  width: 100%;
	  margin-top: 15px;
	}
	.projects-inner {
	  border: 1px solid #313D4F;
	  border-radius: 4px;
	}
	.projects-header {
	  color: white;
	  padding: 22px;
	}
	.projects-header .count,
	.projects-header .title {
	  display: inline-block;
	}
	.projects-header .count {
	  color: #738297;
	}
	.projects-header .glyphicon {
	  cursor: pointer;
	  float: right;
	  font-size: 16px;
	  margin: 5px 0;
	}
	.projects-header .title {
	  font-size: 21px;
	  font-weight: lighter;
	}
	.projects-header .title + .count {
	  margin-left: 5px;
	}
	.projects-table {
	  width: 100%;
	}
	.projects-table td,
	.projects-table th {
	  color: white;
	  padding: 10px 22px;
	  vertical-align: middle;
	}
	.projects-table td p {
	  font-size: 12px;
	}
	.projects-table td p:last-of-type {
	  color: #738297;
	  font-size: 11px;
	}
	.projects-table tr:not(:last-of-type) {
	  border-bottom: 1px solid #313D4F;
	}
	.projects-table .member figure,
	.projects-table .member .member-info {
	  display: inline-block;
	  vertical-align: top;
	}
	.projects-table .member figure + .member-info {
	  margin-left: 7px;
	}
	.projects-table .member img {
	  border-radius: 50%;
	  height: 32px;
	  width: 32px;
	}
	.projects-table .table-head {
	  background-color: #313D4F;
	  color: #738297;
	}
	.projects-table .status > form {
	  float: right;
	}
	.projects-table .status-text {
	  display: inline-block;
	  font-size: 12px;
	  margin: 11px 0;
	  padding-left: 20px;
	  position: relative;
	}
	.projects-table .status-text:before {
	  border: 3px solid;
	  border-radius: 50%;
	  content: "";
	  height: 14px;
	  left: 0;
	  position: absolute;
	  top: 1px;
	  width: 14px;
	}
	.projects-table .status-text.status-blue:before {
	  border-color: #1C93ED;
	}
	.projects-table .status-text.status-green:before {
	  border-color: #66B92E;
	}
	.projects-table .status-text.status-orange:before {
	  border-color: #DA932C;
	}


	.activity-table {
	  width: 100%;
	}
	.activity-table td,
	.activity-table th {
		text-align: center;
	  color: white;
	  padding: 10px 22px;
	  vertical-align: middle;
	}
	.activity-table td p {
	  font-size: 12px;
	}

	.activity-table .table-head {
	  background-color: #313D4F;
	  color: #738297;
	}

	.selectric {
	  background-color: transparent;
	  border-color: #313D4F;
	  border-radius: 4px;
	}
	.selectric .label {
	  color: #738297;
	  line-height: 34px;
	  margin-right: 10px;
	  text-align: left;
	}
	.selectric-wrapper {
	  float: right;
	  width: 150px;
	}
	.danger-item {
	  border-left: 4px solid #A84D43;
	}
	.danger-text {
	  color: #A84D43 !important;
	}
	body {
	  background-color: #1b2431;
	  color: #202020;
	  font-family: "Helvetica", "Open Sans", "Arial";
	  font-size: 13px;
	}
	p,
	figure,
	ul,
	li {
	  margin: 0;
	  padding: 0;
	}

	.link {
	  position: fixed;
	  bottom: 0;
	  right: 0;
	  width: 32px;
	}
	.link img {
	  width: 100%;
	}

	#container {
	    display: flex;
	    justify-content: space-between;
	}
</style>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-socket-io/0.7.0/socket.min.js"></script>
<script type="application/javascript">

	angular.module('myApp', [
	  'btford.socket-io'
	]).
	factory('socket', function (socketFactory) {
	  return socketFactory({
	    ioSocket: io.connect('http://localhost:2000')
	  });
	}).
	controller('dashCtrl', function ($scope, socket) {
	  socket.on('data', function (data) {
	  	console.log(data);
	    $scope.data = data;
	  });
	});
</script>
</head>
<body ng-app="myApp" ng-controller="dashCtrl">
	<div class="card-list" id="container">
	  <div class="card blue">
	    <div class="title">Team Activity</div><span class="glyphicon glyphicon-upload"></span>
	    <div class="value" data-ng-bind="data.stats.activity">0</div>
	    <div class="stat"><b>13</b>% increase</div>
	  </div>
	  <div class="card green">
	    <div class="title">Commits</div><span class="glyphicon glyphicon-upload"></span>
	    <div class="value" data-ng-bind="data.stats.commit">0</div>
	    <div class="stat"><b>4</b>% increase</div>
	  </div>
	  <div class="card orange">
	    <div class="title">Pull Requests</div><span class="glyphicon glyphicon-download"></span>
	    <div class="value" data-ng-bind="data.stats.pullrequest">0</div>
	    <div class="stat"><b>13</b>% decrease</div>
	  </div>
	  <div class="card red">
	    <div class="title">Reviews</div><span class="glyphicon glyphicon-download"></span>
	    <div class="value" data-ng-bind="data.stats.review">0</div>
	    <div class="stat"><b>13</b>% decrease</div>
	  </div>
	</div>
	<div class="projects">
	  <div class="projects-inner">
	    <header class="projects-header">
	      <div class="title">Leader Board</div>
	      <div class="count">| 18 Members</div><span class="glyphicon glyphicon-download-alt"></span>
	    </header>
	    <table class="projects-table">
			<tr>
				<th class="table-head"></th>
				<th class="table-head"></th>
				<th class="table-head"></th>
				<th class="table-head"></th>
				<th class="table-head"></th>
			</tr>

		    <tr class="danger-item" data-ng-repeat="user in data.leaderboard"  ng-if="$index % 5 == 0">
				<td class="member" ng-repeat="user in data.leaderboard.slice($index, ($index+5 > data.leaderboard.length ? data.leaderboard.length : $index+5))">
		          <figure><img ng-src="{{user.avatar}}"/></figure>
		          <div class="member-info">
		            <p>{{user.username}}</p>
		            <p>{{user.points}} Points</p>
		          </div>
		        </td>
		    </tr>
	        
	    </table>
	  </div>
	</div>

	<div class="projects">
	  <div class="projects-inner">
	    <header class="projects-header">
	      <div class="title">Latest Activities</div>
	      <div class="count">| last 5</div><span class="glyphicon glyphicon-download-alt"></span>
	    </header>
	    <table class="activity-table">
	      <tr>
	        <th class="table-head">Project</th>
	        <th class="table-head">From</th>
	        <th class="table-head">Type</th>
	        <th class="table-head">Description</th>
	      </tr>
	      <tr class="danger-item" data-ng-repeat="activity in data.activities">
	        <td><p data-ng-bind="activity.repository.name"></p></td>
	        <td><p data-ng-bind="activity.creator.username"></p></td>
	        <td><p data-ng-bind="activity.type"></p></td>
	        <td><p data-ng-bind="activity.description"></p></td>
	      </tr>
	    </table>
	  </div>
	</div>
</body>
</html>